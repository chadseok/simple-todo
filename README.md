# simple-todo

![main-image](https://cdn.discordapp.com/attachments/1016940382061346880/1155425401221427350/screely-1695545270136.png)

## ğŸ§¤ í”„ë¡œì íŠ¸ ì†Œê°œ

í”„ë¡ íŠ¸ì—ì„œ ê°„ë‹¨í•œ CRUDì™€ ì¸ì¦ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ê¸° ìœ„í•´ todo-listë¥¼ ë§Œë“¤ì–´ë³´ì•˜ìŠµë‹ˆë‹¤. ì „ì²´ ì›¹ì€ ë¡œê·¸ì¸, íšŒì›ê°€ì…, íˆ¬ë‘ í˜ì´ì§€ë¡œ êµ¬ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤. ë¯¸ë¦¬ êµ¬í˜„ëœ todo-list [ë°±ì—”ë“œ ë ˆí¬](https://github.com/walking-sunset/selection-task)ì™€ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í™œìš©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤

<br/>

- **ë§í¬**: [ë°°í¬ì‚¬ì´íŠ¸](https://majestic-cactus-56ea54.netlify.app/todo)
- **ì‚¬ìš©ìŠ¤íƒ**: `vite`, `react-router-dom`, `typescript`, `axios`, `tailwindcss`

<br/>

## ğŸ” ê¸°ëŠ¥

### íšŒì›ê°€ì… í˜ì´ì§€

- ê°„ë‹¨í•˜ê²Œ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë§Œ ì…ë ¥í•˜ì—¬ íšŒì›ê°€ì…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ëŠ” ìœ íš¨ì„± ê²€ì‚¬`(ì•„ì´ë””: ì´ë©”ì¼ í˜•ì‹, ë¹„ë°€ë²ˆí˜¸: 8ì ì´ìƒ)`ë¥¼ ê±°ì¹©ë‹ˆë‹¤
- ìœ íš¨ì„± í†µê³¼ë¥¼ ëª»í•  ì‹œ ê° inputì°½ ì•„ë˜ ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ë„ì›ë‹ˆë‹¤

![signup-1](https://cdn.discordapp.com/attachments/1016940382061346880/1155775587198181407/ezgif.com-gif-maker.gif)

<br>

- ì¤‘ë³µëœ ì´ë©”ì¼ì„ ê²€ì‚¬í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ì•Œë¦½ë‹ˆë‹¤

![signup-2](https://cdn.discordapp.com/attachments/1016940382061346880/1155776565146296350/ezgif.com-gif-maker-2.gif)

<br>

### ë¡œê·¸ì¸ í˜ì´ì§€

- ë¡œê·¸ì¸ í˜ì´ì§€ëŠ” íšŒì›ê°€ì…ê³¼ ê°™ì€ ìœ íš¨ì„± ê²€ì‚¬ì™€ ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ê¸°ëŠ¥ì„ ê°€ì§‘ë‹ˆë‹¤
- ì—†ëŠ” íšŒì›ì´ë¼ë©´ ì‚¬ìš©ìì—ê²Œ ì•Œë¦½ë‹ˆë‹¤

![signin](https://cdn.discordapp.com/attachments/1016940382061346880/1155777714347847721/ezgif.com-gif-maker-3.gif)

<br>

### Todo í˜ì´ì§€

- Todoí˜ì´ì§€ëŠ” 2ê°œì˜ êµ¬ì—­, todoë¥¼ ì…ë ¥í•˜ëŠ” ê³³ê³¼ todo-listë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ê³³ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤.
- todoë¥¼ ì…ë ¥í•˜ëŠ” ê³³ì—ì„œ todoë¥¼ ì‘ì„±í•˜ê³  ì˜†ì˜ ì—°í•„ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ todo-listì— ë“±ë¡ì´ ë©ë‹ˆë‹¤

![todo-1](https://cdn.discordapp.com/attachments/1016940382061346880/1155778335318749234/ezgif.com-gif-maker-4.gif)

- ê° todoëŠ” ì¢…ì´ì™€ ì—°í•„ ì•„ì´ì½˜ì„ í´ë¦­í•˜ì—¬ ìˆ˜ì •ëª¨ë“œë¡œ ë“¤ì–´ê°€ì—¬ todoë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ì²´í¬ í‘œì‹œë¥¼ í´ë¦­í•˜ì—¬ ì™„ë£Œ ìƒíƒœë¡œ ë°”ê¿€ìˆ˜ ìˆìŠµë‹ˆë‹¤

![todo-2](https://cdn.discordapp.com/attachments/1016940382061346880/1155779502291558410/ezgif.com-gif-maker-5.gif)

- ê° todoëŠ” íœ´ì§€í†µ ì•„ì´ì½˜ì„ í´ë¦­í•˜ì—¬ todoë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

![todo-3](https://cdn.discordapp.com/attachments/1016940382061346880/1155779875827892234/ezgif.com-video-to-gif-2.gif)

<br/>

## ğŸ¯ ê¸°ìˆ ì  êµ¬í˜„ì‚¬í•­

### ì¸ì¦ì— ë”°ë¥¸ ë¦¬ë‹¤ì´ë ‰íŠ¸ êµ¬í˜„

- Todoí˜ì´ì§€ë¥¼ ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼í•˜ê³  ë¡œê·¸ì¸,íšŒì›ê°€ì…í˜ì´ì§€ëŠ” ì¸ì¦ëœ ì‚¬ìš©ìëŠ” ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤
- ì ‘ê·¼í•˜ì§€ ëª»í•  ì‹œ ìì—°ìŠ¤ëŸ½ê²Œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤
- ì¸ì¦ì— ë”°ë¥¸ ë¦¬ë‹¤ì´ë ‰íŠ¸ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì´ 3ê°€ì§€ ë¶€ëª¨ Routeë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤ (PublicRoute, AuthOnlyRoute, GuestOnlyRoute)
  - **PublicRoute**ëŠ” ì¸ì¦ì— ìƒê´€ì—†ì´ ëª¨ë“  ì‚¬ìš©ìê°€ ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë¼ìš°íŠ¸
  - **AuthOnlyRoute**ëŠ” ë¡œê·¸ì¸í•˜ì—¬ ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë¼ìš°íŠ¸
  - **GuestOnlyRoute**ëŠ” ë¡œê·¸ì¸í•œ ì‚¬ìš©ìëŠ” ì ‘ê·¼í•  ìˆ˜ ì—†ê³  ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ìë§Œ ì ‘ê·¼ í•  ìˆ˜ ìˆëŠ” ë¼ìš°íŠ¸

```ts
const routerObject = createBrowserRouter([
  {
    element: <PublicRoute />,
    children: [
      { path: ROUTE_PATH.HOME, element: <Home />, errorElement: <Error /> },
      { path: ROUTE_PATH.NO_MATCH, element: <PageNotFound /> },
    ],
  },
  {
    element: <AuthOnlyRoute />,
    children: [
      {
        path: ROUTE_PATH.TODO,
        element: <Todo />,
        errorElement: <Error />,
        loader: todoLoader,
      },
    ],
  },
  {
    element: <GuestOnlyRoute />,
    children: [
      {
        path: ROUTE_PATH.SIGN_IN,
        element: <SignIn />,
        errorElement: <Error />,
      },
      {
        path: ROUTE_PATH.SIGN_UP,
        element: <SignUp />,
        errorElement: <Error />,
      },
    ],
  },
]);
```

<br>

```ts
export const PublicRoute = () => {
  return (
    <Layout>
      <Outlet />
    </Layout>
  );
};

export const AuthOnlyRoute = () => {
  const token = localStorage.getItem(USER_AUTH_TOKEN);
  return token ? (
    <Layout>
      <Outlet />
    </Layout>
  ) : (
    <Navigate to={ROUTE_PATH.SIGN_IN} />
  );
};

export const GuestOnlyRoute = () => {
  const token = localStorage.getItem(USER_AUTH_TOKEN);
  return token ? (
    <Navigate to={ROUTE_PATH.TODO} />
  ) : (
    <Layout>
      <Outlet />
    </Layout>
  );
};
```

<br/>

### ë¡œê·¸ì¸,íšŒì›ê°€ì… ìœ íš¨ì„± ê²€ì‚¬ì™€ ì—ëŸ¬ë©”ì„¸ì§€ êµ¬í˜„

- ë¡œê·¸ì¸, íšŒì›ê°€ì… ìœ íš¨ì„± ê²€ì‚¬ëŠ” inputì— ì…ë ¥í•  ë•Œë§ˆë‹¤ í•˜ëŠ” ê²ƒì€ **ê³„ì† ì—ëŸ¬ë©”ì‹œì§€ê°€ ëœ¨ê³  ì‚¬ë¼ì§€ëŠ” ê²ƒì´ ë ˆì´ì•„ì›ƒì„ ê³„ì† ë³€ê²½ì‹œí‚¤ê¸° ë•Œë¬¸ì—** ë¡œê·¸ì¸ ë˜ëŠ” íšŒì›ê°€ì… ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì‘ë™í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ë°±ì—”ë“œì—ì„œëŠ” ì¤‘ë³µëœ ì‚¬ìš©ì ê²€ì‚¬, íšŒì› ìœ ë¬´ ê²€ì‚¬ë¥¼ í•˜ì—¬ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ **ìœ íš¨ì„± ê²€ì‚¬ -> ë°±ì—”ë“œ ê²€ì‚¬**ë¥¼ í•˜ì—¬ ìœ íš¨ì„± ê²€ì‚¬ì—ì„œ í†µê³¼í•˜ì§€ ëª»í–ˆì„ ë•ŒëŠ” inputì•„ë˜ì— ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ë‚¨ê¸°ê³  ë°±ì—”ë“œ ê²€ì‚¬ë¥¼ í†µê³¼ ëª»í•  ì‹œ ì…ë ¥ ì„¹ì…˜ ìœ„ì— ì—ëŸ¬ë°•ìŠ¤ì— ë‚˜íƒ€ë‚˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤
  <br/>

```ts
const handleSignIn = async (event: React.FormEvent<HTMLFormElement>) => {
  event.preventDefault();

  // ìœ íš¨ì„± ê²€ì‚¬ ì‹œì‘
  const notValidEmail = !validator.checkEmail(userAccount.email);
  const notValidPassword = !validator.checkPassword(userAccount.password);

  // ê²€ì‚¬ í›„ ì—ëŸ¬ë©”ì‹œì§€ ìƒì„±, ì—ëŸ¬ê°€ ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´ë¡œ ìƒì„±
  const newErrorMsg = {
    emailError: notValidEmail ? ERROR_MSG.NOT_VALID_EMAIL : "",
    passwordError: notValidPassword ? ERROR_MSG.NOT_VALID_PWD : "",
    signInError: "",
  };
  setErrorMsg(newErrorMsg);

  // ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼ë¥¼ ëª»í•  ì‹œì— ë’¤ì˜ ë°±ì—”ë“œ ê²€ì‚¬ë¡œ ì´ì–´ì§€ì§€ ì•Šê³  ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì£¼ê³  í•¨ìˆ˜ ë°˜í™˜
  if (notValidEmail || notValidPassword) return;

  // ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼ì‹œ ë°±ì—”ë“œì—ì„œ ì¸ì¦ì„ í•˜ê³  ë°±ì—”ë“œ ê²€ì‚¬ì—ì„œ í†µê³¼ë¥¼ ëª»í•œë‹¤ë©´ catchì—ì„œ ì—ëŸ¬ë¥¼ ì¡ì•„ ì—ëŸ¬ë©”ì‹œì§€ì— ë‚˜íƒ€ëƒ„
  try {
    const res = await signInApi(userAccount);
    localStorage.setItem(USER_AUTH_TOKEN, res.data.access_token);
    navigate(ROUTE_PATH.TODO);
  } catch (error) {
    if (error instanceof AxiosError) {
      setErrorMsg({
        ...newErrorMsg,
        signInError: error.response ? error.response.data.message : null,
      });
    }
  }
};
```

<br>

### Todo CRUD êµ¬í˜„

- todo CRUDëŠ” ë°±ì—”ë“œ í†µì‹  í›„ ë°›ì€ ê°’ì„ ìƒíƒœê°’ì— ê°±ì‹  ì‹œí‚¤ëŠ” ê³¼ì •ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤
- try-catchë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤íŒ¨í•  ì‹œ todoê°’ì— ë³€ë™ì´ ìƒê¸°ì§€ ì•Šë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤

```ts
const createTodo = async (event: React.FormEvent<HTMLFormElement>) => {
  event.preventDefault();

  try {
    const res = await createTodoApi(todoText);
    setTodoList([...todoList, res.data]);
    setTodoText("");
  } catch (error) {
    console.error(error);
  }
};
```

<br>

### ë¼ìš°íŒ… ì—ëŸ¬ ìƒí™©ì— ë”°ë¥¸ ë‹¤ë¥¸ í™”ë©´ êµ¬í˜„

- ë¼ìš°íŒ… ìƒí™©ì— ë”°ë¼ì„œ ì—ëŸ¬ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ 3ê°€ì§€ ê²½ìš°ë¡œ ë‚˜ëˆ„ì—ˆìŠµë‹ˆë‹¤

  - ì£¼ì†Œê°€ ì˜ëª»ëœ ê²½ìš°

  - react-routerì—ì„œ ìƒê¸´ ì—ëŸ¬
  - ê·¸ ì™¸ì˜ ì˜ˆê¸°ì¹˜ ëª»í•œ ì—ëŸ¬

- ì£¼ì†Œê°€ ì˜ëª»ëœ ê²½ìš°ì—ì„œëŠ” react-routerì˜ ê¸°ëŠ¥ ì¤‘ _`path='*'`_ í˜•ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ì ìš© í•˜ì˜€ê³  `PageNotFound`í˜ì´ì§€ì™€ ì—°ê²°í•˜ì˜€ìŠµë‹ˆë‹¤
- react-routerì˜ `isRouteErrorResponse`í•¨ìˆ˜ë¥¼ í™œìš©í•´ react-routerì—ì„œ ìƒê¸´ ì—ëŸ¬ì¸ì§€ ê°ì§€í•˜ì—¬ ë§ë‹¤ë©´ ë¼ìš°íŒ… ë¬¸ì œë¼ëŠ” ê²ƒì„ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¬ê³  ì•„ë‹ˆë¼ë©´ ì˜ˆê¸°ì¹˜ ëª»í•œ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤ê³  ì•Œë¦¬ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤

```ts
const ErrorPage = () => {
  const error = useRouteError();

  if (isRouteErrorResponse(error)) {
    return (
      <div className="text-center">
        <h1 className="text-2xl font-bold mb-8">
          ì„œë²„ ì—°ê²°ì— ë¬¸ì œê°€ ìƒê²¼ìŠµë‹ˆë‹¤!
        </h1>
        <h2>{error.status}</h2>
        <p>{error.data?.message}</p>
      </div>
    );
  } else if (error instanceof Error) {
    return (
      <div className="text-center">
        <h1 className="text-2xl font-bold mb-8">
          ì˜ˆìƒì¹˜ ëª»í•œ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤!
        </h1>
        <p>{error.message}</p>
      </div>
    );
  }
};
```
